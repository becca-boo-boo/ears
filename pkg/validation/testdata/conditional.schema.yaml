{
  "$comment":"NOTE: Conditionals are only supported in draft-07",
  "$schema":"http://json-schema.org/draft-07/schema#",
  "$ref":"#/definitions/SenderConfig",
  "definitions":{
    "SenderConfig":{
      "title":"SenderConfig",
      "type":"object",
      "additionalProperties":false,
      "properties":{
        "destination":{
          "enum":[
            "stdout",
            "stderr",
            "devnull",
            "custom"
          ]
        },
        "writer":{
          "type":[
            "object",
            "string"
          ]
        }
      },
      "required":[
        "destination"
      ],
      "if":{
        "properties":{
          "destination":{
            "const":"custom"
          }
        }
      },
      "then":{
        "required":[
          "writer"
        ]
      },
      "else":{
        "properties":{
          "writer":{
            "type":[
              "object",
              "string"
            ],
            "additionalProperties":false
          }
        }
      }
    }
  }
}